<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zach Montgomery</title>
<link rel="icon" type="image/x-icon" href="flavicon.png">

<style>

@font-face {
        font-family: 'Xanh Mono';
        src: url('XanhMono-Regular.woff2') format('woff2'),
             url('XanhMono-Regular.woff') format('woff'),
             url('XanhMono-Regular.ttf') format('truetype');
        }

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Xanh Mono', monospace;
    font-size: 1.9vh;
    background-color: #ff9900;
    display: flex;
    height: 100vh;
    overflow: hidden;
    line-height: 1.3;
}

a {
    text-decoration: none;
    color: black;
    transition: color 0.5s ease;
}

a:hover,
a.active {
    color: #ff9900;
}

.third-container a:link, .third-container a:visited {
    color: white;
    text-decoration: underline;
}

.third-container a:hover {
    transition: color 0.5s ease;
    color: black;
}

.left-container {
    padding: 36px;
    width: 100%;
    height: 100vh;
    border-left: 10px solid #ff9900;
    position: relative;
    background: white;
}

.image-box {
    display: none;
    position: absolute;
    text-align: center;
    z-index: 1;
    top: 30.5%;
    left: 55%;
    transform: translate(-50%, -50%);
    height: 100%;
}

.image-box img {
    height: 100%;
    width: auto;
    display: inline-block;
}

.left-container > * {
    position: relative;
    z-index: 2;
}

.clickable, .tabs {
    z-index: 10;
}

.bottom-links {
    position: absolute;
    bottom: 35px;
}

.copyright {
    font-size: 1.5vh;
    margin-top: 30px;
}

.third-container {
    font-family: 'franklin gothic';
    padding: 36px;
    position: fixed;
    top: 0;
    left: -100%;
    width: 25%;
    height: 100vh;
    background-color: #ff9900;
    color: white;
    transition: left 0.5s ease-in-out;
    z-index: 200;
}

.third-container.active {
    left: 0;
}

body.third-active {
    margin-left: 25%;
    transition: transform 0.6s ease-in-out;
}

.image-caption {
    position: absolute;
    max-width: 165px;
    z-index: 10;
    font-size: 1.4vh;
}

@media (max-width: 768px) {
    body {
        font-size: 1.75vh;
    }
    .left-container {
        width: 100%;
    }
    .third-container {
        width: 50%;
        font-family: 'Xanh Mono', monospace;
    }
    body.third-active {
        margin-left: 50%;
    }
    .image-box,
    .image-caption {
        display: none !important;
    }
    .bottom-links {
        position: static;
        margin-top: 40px;
    }
}
</style>
</head>

<body>

<div class="left-container">
    
    <span class="clickable">
        <a href="#" class="logo">✻ Zach Montgomery</a>
    </span><br><br>

    <div class="tabs">
        <a href="#" class="tab" data-link="https://www.are.na/zach-montgomery/editorial-r97gf19ub8s">Editorial</a><br>
        <a href="#" class="tab" data-link="https://www.are.na/zach-montgomery/identity-sgsfpevhw6o">Identity</a><br>
        <a href="#" class="tab" data-link="https://www.are.na/zach-montgomery/production-tzfrd9aqfo0">Production</a><br>
        <a href="#" class="tab" data-link="https://www.are.na/zach-montgomery/teaching-n6ympdwlz9k">Teaching</a><br>
    </div>
    <br>
    <div class="image-caption" id="imageCaption"></div>

    <div class="image-box" id="imageBox">
        <img src="" alt="Tab Image" id="imageElement">
    </div>

    <div class="bottom-links">
        <span class="clickable"><a href="#" id="aboutLink">➝ About</a></span>
        <div class="copyright">© 2025 Zach Montgomery</div>
    </div>
</div>

<div class="third-container" id="thirdContainer">
    Zach is a multidisciplinary designer and student based in Richmond, VA.
    He is currently an Art Director at the
    <a href="https://commonwealthtimes.org/">Commonwealth Times</a>
    and a Studio Monitor + Instructor at
    <a href="https://www.studiotwothree.org/">Studio Two Three</a>
    <br><br>
    <p>
        Zach's practice specializes in editorial design and typographic print production.
        His work explores the constraints of containers as a generative means of production.
    </p><br>
    <a href="mailto:zm@zachmontgomery.us">zm@zachmontgomery.us</a><br><br>
    <a href="ZM25Resume.pdf">↗ Resume</a><br>
    <a href="https://www.linkedin.com/in/zach-montgomery-13b935235/">↗ LinkedIn</a><br>
    <a href="https://www.are.na/zach-montgomery">↗ Are.na</a>
</div>

<script>

document.getElementById('aboutLink').addEventListener('click', e => {
    e.preventDefault();
    document.getElementById('thirdContainer').classList.toggle('active');
    document.body.classList.toggle('third-active');
});

const tabs = document.querySelectorAll('.tab');
const imageBox = document.getElementById('imageBox');
const imageElement = document.getElementById('imageElement');
const imageCaption = document.getElementById('imageCaption');
const logo = document.querySelector('.logo');

const arenaBlocks = {
    Editorial: [
        42542131,
        42525196,
        42539991,
        42542530
    ],
    Identity: [
        42535318,
        42537124,
        42542203,
        42542332,
    ],
    Production: [
        41830306,
        41830301,
        41830295,
        41038168,
        41038092,
        41037976,
        42535514,
        36813107,
        42542580,
        42560386
    ],
    Teaching: [
        42525144,
        42535397,
        42535396,
        42535395
    ]
};

const arenaState = {};

function shuffleArray(array) {
    return array
        .map(value => ({ value, sort: Math.random() }))
        .sort((a, b) => a.sort - b.sort)
        .map(({ value }) => value);
}

async function fetchArenaBlock(blockId) {
    try {
        const res = await fetch(`https://api.are.na/v2/blocks/${blockId}`);
        if (!res.ok) throw new Error('Are.na fetch failed');

        const data = await res.json();

        return {
            title: data.title,
            description: data.description,
            image: data.image?.original?.url
        };
    } catch (err) {
        console.error(err);
        return null;
    }
}

tabs.forEach(tab => {
    tab.addEventListener('click', async e => {

        if (window.innerWidth <= 768) {
            const link = tab.dataset.link;
            if (link) window.location.href = link;
            return;
        }

        e.preventDefault();

        tabs.forEach(t => t.classList.remove('active'));
        tab.classList.add('active');

        const tabName = tab.textContent.trim();
        const blocks = arenaBlocks[tabName];
        if (!blocks || blocks.length === 0) return;

        if (!arenaState[tabName]) {
            arenaState[tabName] = {
                order: shuffleArray(blocks),
                index: 0
            };
        }

        const state = arenaState[tabName];
        const blockId = state.order[state.index];

        state.index++;

        if (state.index >= state.order.length) {
            state.order = shuffleArray(blocks);
            state.index = 0;
        }

        const block = await fetchArenaBlock(blockId);
        if (!block || !block.image) return;

        imageElement.src = block.image;

        const captionText = [block.title, block.description]
            .filter(Boolean)
            .join(' — ');

        imageElement.alt = captionText;
        imageCaption.textContent = captionText;

        imageBox.style.display = 'block';
    });
});

logo.addEventListener('click', e => {
    e.preventDefault();

    tabs.forEach(t => t.classList.remove('active'));

    imageBox.style.display = 'none';
    imageCaption.textContent = '';
});
</script>


